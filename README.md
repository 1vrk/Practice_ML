# Решение задач анализа данных и машинного обучения

## О проекте
Проект содержит решения трёх практических задач

### Задача 1: Построение витрины данных с лаговыми переменными
**Цель:** Создать витрину данных с добавлением лаговых показателей для пар "клиент-месяц"

**Реализация:**
- Решение на Python с использованием pandas для обработки данных
- SQL-реализация с оконными функциями для расчёта лагов
- Добавление показателей за предыдущий и предпредыдущий месяцы

**Результат:** Витрина данных с 3n-2 столбцами, содержащая исходные показатели и их лаговые значения за предыдущие периоды

### Задача 2: Прогнозирование оттока клиентов банка
**Цель:** Построить модель для прогнозирования закрытия кредитной карты (целевая переменная `cc_clos`)

**Технологии:**
- Docker для контейнеризации решения
- FastAPI для создания REST API
- Несколько алгоритмов машинного обучения

**Методы:**
- Разделение данных на обучение (70%) и тест (30%)
- Множественные методы отбора переменных
- Применение различных алгоритмов:
  - Случайный лес
  - Логистическая регрессия
  - Градиентный бустинг

**Результат:** Два алгоритма, случаный лес и градиентный бустинг, достигли **GINI коэффициента > 60%**. Лучшая модель: Случайный лес

### Задача 3: Прогнозирование временных рядов продаж
**Цель:** Построить модель прогнозирования совокупной выручки от продаж

**Подход:**
- Обучающая выборка: период с 28 мая 2006 по 20 мая 2007
- Тестовая выборка: 26 недель после 20 мая 2007
- Использована модель Случайный лес, XGBoost
- Рассчитан доверительный интервал с уровнем доверия 95%

**Результат:** Достигнут **MAPE 11%** на тестовой выборке. Построен прогноз на 26 недель вперёд с доверительными интервалами

## Технологический стек
- **Python** (pandas, numpy, scikit-learn, xgboost)
- **SQL** 
- **Docker** 
- **FastAPI** 
- **Машинное обучение** 

## Ключевые метрики

- **Задача 2:** GINI коэффициент > 60% (прогнозирование оттока)
- **Задача 3:** MAPE 11% (прогнозирование временных рядов)

## Как запустить проект

```bash
git clone <repository-url>
cd project

# для первой и третьей задачи:
pip install -r requirements.txt

# для второй задачи
docker-compose up --build

http://localhost:8000
